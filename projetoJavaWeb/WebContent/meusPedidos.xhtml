<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:pt="http://xmlns.jcp.org/jsf/passthrough"
	xmlns:jsf="http://xmlns.jcp.org/jsf"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">

<ui:composition template="template.xhtml">

	<ui:define name="conteudo">

		<div style="height: auto; background-color: white; width: 60%; margin-left: 20%;">
		<h:form>
			<f:event listener="#{mBeanCarrinho.buscarPedidosCliente}"
				type="preRenderView" />
			<ui:repeat var="pedido" value="#{mBeanCarrinho.pedidosCliente}">
				<table class="table table-bordered"
					style="width: 90%; margin-left: 5%; padding: 0;">
					<tr>
						<th>Nº pedido</th>
						<th>Data</th>
					</tr>


					<tr style="width: 90%;">
						<td>#{pedido.id}</td>
						<td><h:outputText value="#{pedido.dataCompra}">
								<f:convertDateTime pattern="dd-MM-yyy HH:mm:ss" timeZone="GMT-3"></f:convertDateTime>
							</h:outputText></td>
					</tr>
					</table>
					<table class="table table-bordered"
						style="width: 90%; margin-left: 5%; padding: 0;">
						<tr>
							<th scope="col">Produto</th>
							<th scope="col">Quantidade</th>
							<th scope="col">Preço</th>
						</tr>

						<ui:repeat var="item" value="#{pedido.itens}">
							<tr>
								<td>#{item.produto.nome}</td>
								<td>#{item.quantidade}</td>
								<td>R$ #{item.produto.valor}</td>
							</tr>
						</ui:repeat>
					</table>
					

			</ui:repeat>
		</h:form>
		</div>
		
	</ui:define>

	<ui:define name="script">
		<script>
			
		</script>
	</ui:define>
</ui:composition>

</html>